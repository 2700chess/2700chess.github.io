import{j as t}from"./index-BlPo4WBo.js";import{r as o}from"./index-CDs2tPxN.js";import{q as x}from"./styled-components.browser.esm-BXlt7KuZ.js";import{b as W}from"./hooks-Boud7AX9.js";import{P as C}from"./PlayingSide-B7V_oGwn.js";import{h as S}from"./index-P_l5D55z.js";import{G}from"./GameStatus-Cxy5LyQ2.js";import{B as j}from"./Box-CuN7tJpi.js";import"./index-DdleKAuV.js";import"./index-mZ8wGMve.js";import"./extends-CF3RwP-h.js";import"./inheritsLoose-DR8r8Ogv.js";import"./store-C1axl7uG.js";import"./effector-react-BAdctxvc.js";import"./Sliced-984ujuWb.js";import"./Time-BlXHPi5l.js";import"./index-DPT5vnp-.js";import"./iconBase-CFmhqBMC.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-Bbbmb3_I.js";const N=e=>(o.useEffect(()=>{const r=localStorage.getItem(`tmp-${e.player}-new`),i=localStorage.getItem(`tmp-${e.player}-old`);e.serverTime===i?r&&setTimeout(r==="0:00:00"?()=>{localStorage.setItem(`tmp-${e.player}-new`,"0:01:00")}:()=>{localStorage.setItem(`tmp-${e.player}-new`,S(r))},1e3):(localStorage.setItem(`tmp-${e.player}-old`,e.serverTime),localStorage.setItem(`tmp-${e.player}-new`,e.serverTime))},[e.timer,e.player,e.serverTime]),null),l=({time:e,isCounterActive:r,player:i,timerColor:a,timerBlack:m,timerWhite:b,setTimerBlack:w,setTimerWhite:v,raiting:q,country:B,age:I})=>{const u=a==="black"?m:b;return W(u,e,r,d=>{a==="black"?w(d):v(d)}),t.jsxs(t.Fragment,{children:[r&&t.jsx(N,{player:i,serverTime:e,timer:u}),t.jsx(C,{side:a,player:i,raiting:q,country:B,age:I})]})};l.__docgenInfo={description:"",methods:[],displayName:"Timer",props:{time:{required:!0,tsType:{name:"string"},description:""},isCounterActive:{required:!0,tsType:{name:"boolean"},description:""},player:{required:!0,tsType:{name:"string"},description:""},timerColor:{required:!0,tsType:{name:"Color"},description:""},setTimerBlack:{required:!0,tsType:{name:"signature",type:"function",raw:"(t: string) => void",signature:{arguments:[{type:{name:"string"},name:"t"}],return:{name:"void"}}},description:""},timerBlack:{required:!0,tsType:{name:"string"},description:""},setTimerWhite:{required:!0,tsType:{name:"signature",type:"function",raw:"(t: string) => void",signature:{arguments:[{type:{name:"string"},name:"t"}],return:{name:"void"}}},description:""},timerWhite:{required:!0,tsType:{name:"string"},description:""},raiting:{required:!1,tsType:{name:"number"},description:""},country:{required:!1,tsType:{name:"string"},description:""},age:{required:!1,tsType:{name:"number"},description:""}}};const c=e=>t.jsxs(R,{children:[t.jsx(l,{player:e.whiteName,raiting:e.whiteRaiting,country:e.whiteCountry,time:e.whiteTime,age:e.whiteAge,isCounterActive:!e.isGameOver&&e.lastIsBlack,timerColor:"white",timerBlack:e.timerBlack,setTimerBlack:e.setTimerBlack,timerWhite:e.timerWhite,setTimerWhite:e.setTimerWhite}),t.jsx(G,{isGameOver:e.isGameOver,lastIsBlack:e.lastIsBlack,lastIsWhite:e.lastIsWhite,result:e.result,timerBlack:localStorage.getItem(`tmp-${e.blackName}-new`)||e.timerBlack,timerWhite:localStorage.getItem(`tmp-${e.whiteName}-new`)||e.timerWhite}),t.jsx(l,{player:e.blackName,raiting:e.blackRaiting,country:e.blackCountry,time:e.blackTime,isCounterActive:!e.isGameOver&&e.lastIsWhite,timerColor:"black",timerBlack:e.timerBlack,setTimerBlack:e.setTimerBlack,timerWhite:e.timerWhite,setTimerWhite:e.setTimerWhite,age:e.blackAge})]}),R=x.div`
  border: 2px solid #b7b58f;
  width: 100%;
  border-radius: 2px;
  display: flex;
  justify-content: space-between;
  margin-bottom: 4px;
  flex-wrap: nowrap;
  font-size: 11px;
`;c.__docgenInfo={description:"Represents the game metadata component.",methods:[],displayName:"GameMetadata",props:{whiteName:{required:!0,tsType:{name:"string"},description:"The name of the white player."},blackName:{required:!0,tsType:{name:"string"},description:"The name of the black player."},whiteRaiting:{required:!1,tsType:{name:"number"},description:"The rating of the white player."},blackRaiting:{required:!1,tsType:{name:"number"},description:"The rating of the black player."},whiteCountry:{required:!1,tsType:{name:"string"},description:"The country of the white player."},blackCountry:{required:!1,tsType:{name:"string"},description:"The country of the black player."},whiteTime:{required:!0,tsType:{name:"string"},description:"The time of the white player."},blackTime:{required:!0,tsType:{name:"string"},description:"The time of the black player."},whiteAge:{required:!1,tsType:{name:"number"},description:"The age of the white player."},blackAge:{required:!1,tsType:{name:"number"},description:"The age of the black player."},lastIsBlack:{required:!0,tsType:{name:"boolean"},description:"Indicates if the last move was made by the black player."},lastIsWhite:{required:!0,tsType:{name:"boolean"},description:"Indicates if the last move was made by the white player."},timerBlack:{required:!0,tsType:{name:"string"},description:"The black timer value."},timerWhite:{required:!0,tsType:{name:"string"},description:"The white timer value."},setTimerBlack:{required:!0,tsType:{name:"signature",type:"function",raw:"(t: string) => void",signature:{arguments:[{type:{name:"string"},name:"t"}],return:{name:"void"}}},description:"Callback function to set the black timer value."},setTimerWhite:{required:!0,tsType:{name:"signature",type:"function",raw:"(t: string) => void",signature:{arguments:[{type:{name:"string"},name:"t"}],return:{name:"void"}}},description:"Callback function to set the white timer value."},isGameOver:{required:!1,tsType:{name:"boolean"},description:"Indicates if the game is over."},result:{required:!1,tsType:{name:"string"},description:"The result of the game."}}};const ee={title:"Components/GameMetadata",component:c,tags:["autodocs"],parameters:{layout:"centered"},render:e=>{const[r,i]=o.useState(""),[a,m]=o.useState("");return t.jsx(j,{sx:{width:400,background:"#e3e2c4"},children:t.jsx(c,{...e,timerBlack:r,setTimerBlack:i,timerWhite:a,setTimerWhite:m})})}},k={blackName:"Caruana Fabiano",whiteName:"Carlsen Magnus",blackAge:29,whiteAge:30,blackCountry:"us",whiteCountry:"no",blackRaiting:2820,whiteRaiting:2847,blackTime:"1:27:00",whiteTime:"1:31:08",lastIsBlack:!0,lastIsWhite:!1,isGameOver:!1,result:"1-0"},s={args:k},n={args:{...k,isGameOver:!0}};var g,h,T;s.parameters={...s.parameters,docs:{...(g=s.parameters)==null?void 0:g.docs,source:{originalSource:`{
  args
}`,...(T=(h=s.parameters)==null?void 0:h.docs)==null?void 0:T.source}}};var y,p,f;n.parameters={...n.parameters,docs:{...(y=n.parameters)==null?void 0:y.docs,source:{originalSource:`{
  args: {
    ...args,
    isGameOver: true
  }
}`,...(f=(p=n.parameters)==null?void 0:p.docs)==null?void 0:f.source}}};const te=["Live","Result"];export{s as Live,n as Result,te as __namedExportsOrder,ee as default};
