import{_ as h}from"./extends-CF3RwP-h.js";import{_ as $}from"./inheritsLoose-DR8r8Ogv.js";var N=function(){function s(){this.listeners=[]}var n=s.prototype;return n.subscribe=function(t){var e=this,r=t||function(){};return this.listeners.push(r),this.onSubscribe(),function(){e.listeners=e.listeners.filter(function(u){return u!==r}),e.onUnsubscribe()}},n.hasListeners=function(){return this.listeners.length>0},n.onSubscribe=function(){},n.onUnsubscribe=function(){},s}(),it=typeof window>"u";function g(){}function vt(s,n){return typeof s=="function"?s(n):s}function yt(s){return typeof s=="number"&&s>=0&&s!==1/0}function I(s){return Array.isArray(s)?s:[s]}function pt(s,n){return Math.max(s+(n||0)-Date.now(),0)}function H(s,n,i){return j(s)?typeof n=="function"?h({},i,{queryKey:s,queryFn:n}):h({},n,{queryKey:s}):s}function E(s,n,i){return j(s)?[h({},n,{queryKey:s}),i]:[s||{},n]}function mt(s,n){if(s===!0&&n===!0||s==null&&n==null)return"all";if(s===!1&&n===!1)return"none";var i=s??!n;return i?"active":"inactive"}function X(s,n){var i=s.active,t=s.exact,e=s.fetching,r=s.inactive,u=s.predicate,a=s.queryKey,o=s.stale;if(j(a)){if(t){if(n.queryHash!==Z(a,n.options))return!1}else if(!x(n.queryKey,a))return!1}var c=mt(i,r);if(c==="none")return!1;if(c!=="all"){var f=n.isActive();if(c==="active"&&!f||c==="inactive"&&f)return!1}return!(typeof o=="boolean"&&n.isStale()!==o||typeof e=="boolean"&&n.isFetching()!==e||u&&!u(n))}function z(s,n){var i=s.exact,t=s.fetching,e=s.predicate,r=s.mutationKey;if(j(r)){if(!n.options.mutationKey)return!1;if(i){if(M(n.options.mutationKey)!==M(r))return!1}else if(!x(n.options.mutationKey,r))return!1}return!(typeof t=="boolean"&&n.state.status==="loading"!==t||e&&!e(n))}function Z(s,n){var i=(n==null?void 0:n.queryKeyHashFn)||M;return i(s)}function M(s){var n=I(s);return bt(n)}function bt(s){return JSON.stringify(s,function(n,i){return k(i)?Object.keys(i).sort().reduce(function(t,e){return t[e]=i[e],t},{}):i})}function x(s,n){return rt(I(s),I(n))}function rt(s,n){return s===n?!0:typeof s!=typeof n?!1:s&&n&&typeof s=="object"&&typeof n=="object"?!Object.keys(n).some(function(i){return!rt(s[i],n[i])}):!1}function st(s,n){if(s===n)return s;var i=Array.isArray(s)&&Array.isArray(n);if(i||k(s)&&k(n)){for(var t=i?s.length:Object.keys(s).length,e=i?n:Object.keys(n),r=e.length,u=i?[]:{},a=0,o=0;o<r;o++){var c=i?o:e[o];u[c]=st(s[c],n[c]),u[c]===s[c]&&a++}return t===r&&a===t?s:u}return n}function k(s){if(!tt(s))return!1;var n=s.constructor;if(typeof n>"u")return!0;var i=n.prototype;return!(!tt(i)||!i.hasOwnProperty("isPrototypeOf"))}function tt(s){return Object.prototype.toString.call(s)==="[object Object]"}function j(s){return typeof s=="string"||Array.isArray(s)}function gt(s){return new Promise(function(n){setTimeout(n,s)})}function et(s){Promise.resolve().then(s).catch(function(n){return setTimeout(function(){throw n})})}function ut(){if(typeof AbortController=="function")return new AbortController}var Ot=function(s){$(n,s);function n(){var t;return t=s.call(this)||this,t.setup=function(e){var r;if(!it&&((r=window)!=null&&r.addEventListener)){var u=function(){return e()};return window.addEventListener("visibilitychange",u,!1),window.addEventListener("focus",u,!1),function(){window.removeEventListener("visibilitychange",u),window.removeEventListener("focus",u)}}},t}var i=n.prototype;return i.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},i.onUnsubscribe=function(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}},i.setEventListener=function(e){var r,u=this;this.setup=e,(r=this.cleanup)==null||r.call(this),this.cleanup=e(function(a){typeof a=="boolean"?u.setFocused(a):u.onFocus()})},i.setFocused=function(e){this.focused=e,e&&this.onFocus()},i.onFocus=function(){this.listeners.forEach(function(e){e()})},i.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},n}(N),K=new Ot,_t=function(s){$(n,s);function n(){var t;return t=s.call(this)||this,t.setup=function(e){var r;if(!it&&((r=window)!=null&&r.addEventListener)){var u=function(){return e()};return window.addEventListener("online",u,!1),window.addEventListener("offline",u,!1),function(){window.removeEventListener("online",u),window.removeEventListener("offline",u)}}},t}var i=n.prototype;return i.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},i.onUnsubscribe=function(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}},i.setEventListener=function(e){var r,u=this;this.setup=e,(r=this.cleanup)==null||r.call(this),this.cleanup=e(function(a){typeof a=="boolean"?u.setOnline(a):u.onOnline()})},i.setOnline=function(e){this.online=e,e&&this.onOnline()},i.onOnline=function(){this.listeners.forEach(function(e){e()})},i.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},n}(N),U=new _t;function Ct(s){return Math.min(1e3*Math.pow(2,s),3e4)}function B(s){return typeof(s==null?void 0:s.cancel)=="function"}var at=function(n){this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent};function V(s){return s instanceof at}var ot=function(n){var i=this,t=!1,e,r,u,a;this.abort=n.abort,this.cancel=function(d){return e==null?void 0:e(d)},this.cancelRetry=function(){t=!0},this.continueRetry=function(){t=!1},this.continue=function(){return r==null?void 0:r()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(d,l){u=d,a=l});var o=function(l){i.isResolved||(i.isResolved=!0,n.onSuccess==null||n.onSuccess(l),r==null||r(),u(l))},c=function(l){i.isResolved||(i.isResolved=!0,n.onError==null||n.onError(l),r==null||r(),a(l))},f=function(){return new Promise(function(l){r=l,i.isPaused=!0,n.onPause==null||n.onPause()}).then(function(){r=void 0,i.isPaused=!1,n.onContinue==null||n.onContinue()})},v=function d(){if(!i.isResolved){var l;try{l=n.fn()}catch(y){l=Promise.reject(y)}e=function(p){if(!i.isResolved&&(c(new at(p)),i.abort==null||i.abort(),B(l)))try{l.cancel()}catch{}},i.isTransportCancelable=B(l),Promise.resolve(l).then(o).catch(function(y){var p,P;if(!i.isResolved){var O=(p=n.retry)!=null?p:3,b=(P=n.retryDelay)!=null?P:Ct,_=typeof b=="function"?b(i.failureCount,y):b,Q=O===!0||typeof O=="number"&&i.failureCount<O||typeof O=="function"&&O(i.failureCount,y);if(t||!Q){c(y);return}i.failureCount++,n.onFail==null||n.onFail(i.failureCount,y),gt(_).then(function(){if(!K.isFocused()||!U.isOnline())return f()}).then(function(){t?c(y):d()})}})}};v()},Ft=function(){function s(){this.queue=[],this.transactions=0,this.notifyFn=function(i){i()},this.batchNotifyFn=function(i){i()}}var n=s.prototype;return n.batch=function(t){var e;this.transactions++;try{e=t()}finally{this.transactions--,this.transactions||this.flush()}return e},n.schedule=function(t){var e=this;this.transactions?this.queue.push(t):et(function(){e.notifyFn(t)})},n.batchCalls=function(t){var e=this;return function(){for(var r=arguments.length,u=new Array(r),a=0;a<r;a++)u[a]=arguments[a];e.schedule(function(){t.apply(void 0,u)})}},n.flush=function(){var t=this,e=this.queue;this.queue=[],e.length&&et(function(){t.batchNotifyFn(function(){e.forEach(function(r){t.notifyFn(r)})})})},n.setNotifyFunction=function(t){this.notifyFn=t},n.setBatchNotifyFunction=function(t){this.batchNotifyFn=t},s}(),m=new Ft,Pt=console;function ct(){return Pt}var At=function(){function s(i){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=i.defaultOptions,this.setOptions(i.options),this.observers=[],this.cache=i.cache,this.queryKey=i.queryKey,this.queryHash=i.queryHash,this.initialState=i.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=i.meta,this.scheduleGc()}var n=s.prototype;return n.setOptions=function(t){var e;this.options=h({},this.defaultOptions,t),this.meta=t==null?void 0:t.meta,this.cacheTime=Math.max(this.cacheTime||0,(e=this.options.cacheTime)!=null?e:5*60*1e3)},n.setDefaultOptions=function(t){this.defaultOptions=t},n.scheduleGc=function(){var t=this;this.clearGcTimeout(),yt(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){t.optionalRemove()},this.cacheTime))},n.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},n.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},n.setData=function(t,e){var r,u,a=this.state.data,o=vt(t,a);return(r=(u=this.options).isDataEqual)!=null&&r.call(u,a,o)?o=a:this.options.structuralSharing!==!1&&(o=st(a,o)),this.dispatch({data:o,type:"success",dataUpdatedAt:e==null?void 0:e.updatedAt}),o},n.setState=function(t,e){this.dispatch({type:"setState",state:t,setStateOptions:e})},n.cancel=function(t){var e,r=this.promise;return(e=this.retryer)==null||e.cancel(t),r?r.then(g).catch(g):Promise.resolve()},n.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},n.reset=function(){this.destroy(),this.setState(this.initialState)},n.isActive=function(){return this.observers.some(function(t){return t.options.enabled!==!1})},n.isFetching=function(){return this.state.isFetching},n.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(t){return t.getCurrentResult().isStale})},n.isStaleByTime=function(t){return t===void 0&&(t=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!pt(this.state.dataUpdatedAt,t)},n.onFocus=function(){var t,e=this.observers.find(function(r){return r.shouldFetchOnWindowFocus()});e&&e.refetch(),(t=this.retryer)==null||t.continue()},n.onOnline=function(){var t,e=this.observers.find(function(r){return r.shouldFetchOnReconnect()});e&&e.refetch(),(t=this.retryer)==null||t.continue()},n.addObserver=function(t){this.observers.indexOf(t)===-1&&(this.observers.push(t),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:t}))},n.removeObserver=function(t){this.observers.indexOf(t)!==-1&&(this.observers=this.observers.filter(function(e){return e!==t}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:t}))},n.getObserversCount=function(){return this.observers.length},n.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},n.fetch=function(t,e){var r=this,u,a,o;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(e!=null&&e.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var c;return(c=this.retryer)==null||c.continueRetry(),this.promise}}if(t&&this.setOptions(t),!this.options.queryFn){var f=this.observers.find(function(b){return b.options.queryFn});f&&this.setOptions(f.options)}var v=I(this.queryKey),d=ut(),l={queryKey:v,pageParam:void 0,meta:this.meta};Object.defineProperty(l,"signal",{enumerable:!0,get:function(){if(d)return r.abortSignalConsumed=!0,d.signal}});var y=function(){return r.options.queryFn?(r.abortSignalConsumed=!1,r.options.queryFn(l)):Promise.reject("Missing queryFn")},p={fetchOptions:e,options:this.options,queryKey:v,state:this.state,fetchFn:y,meta:this.meta};if((u=this.options.behavior)!=null&&u.onFetch){var P;(P=this.options.behavior)==null||P.onFetch(p)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((a=p.fetchOptions)==null?void 0:a.meta)){var O;this.dispatch({type:"fetch",meta:(O=p.fetchOptions)==null?void 0:O.meta})}return this.retryer=new ot({fn:p.fetchFn,abort:d==null||(o=d.abort)==null?void 0:o.bind(d),onSuccess:function(_){r.setData(_),r.cache.config.onSuccess==null||r.cache.config.onSuccess(_,r),r.cacheTime===0&&r.optionalRemove()},onError:function(_){V(_)&&_.silent||r.dispatch({type:"error",error:_}),V(_)||(r.cache.config.onError==null||r.cache.config.onError(_,r),ct().error(_)),r.cacheTime===0&&r.optionalRemove()},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:p.options.retry,retryDelay:p.options.retryDelay}),this.promise=this.retryer.promise,this.promise},n.dispatch=function(t){var e=this;this.state=this.reducer(this.state,t),m.batch(function(){e.observers.forEach(function(r){r.onQueryUpdate(t)}),e.cache.notify({query:e,type:"queryUpdated",action:t})})},n.getDefaultState=function(t){var e=typeof t.initialData=="function"?t.initialData():t.initialData,r=typeof t.initialData<"u",u=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0,a=typeof e<"u";return{data:e,dataUpdateCount:0,dataUpdatedAt:a?u??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:a?"success":"idle"}},n.reducer=function(t,e){var r,u;switch(e.type){case"failed":return h({},t,{fetchFailureCount:t.fetchFailureCount+1});case"pause":return h({},t,{isPaused:!0});case"continue":return h({},t,{isPaused:!1});case"fetch":return h({},t,{fetchFailureCount:0,fetchMeta:(r=e.meta)!=null?r:null,isFetching:!0,isPaused:!1},!t.dataUpdatedAt&&{error:null,status:"loading"});case"success":return h({},t,{data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:(u=e.dataUpdatedAt)!=null?u:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=e.error;return V(a)&&a.revert&&this.revertState?h({},this.revertState):h({},t,{error:a,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return h({},t,{isInvalidated:!0});case"setState":return h({},t,e.state);default:return t}},s}(),qt=function(s){$(n,s);function n(t){var e;return e=s.call(this)||this,e.config=t||{},e.queries=[],e.queriesMap={},e}var i=n.prototype;return i.build=function(e,r,u){var a,o=r.queryKey,c=(a=r.queryHash)!=null?a:Z(o,r),f=this.get(c);return f||(f=new At({cache:this,queryKey:o,queryHash:c,options:e.defaultQueryOptions(r),state:u,defaultOptions:e.getQueryDefaults(o),meta:r.meta}),this.add(f)),f},i.add=function(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"queryAdded",query:e}))},i.remove=function(e){var r=this.queriesMap[e.queryHash];r&&(e.destroy(),this.queries=this.queries.filter(function(u){return u!==e}),r===e&&delete this.queriesMap[e.queryHash],this.notify({type:"queryRemoved",query:e}))},i.clear=function(){var e=this;m.batch(function(){e.queries.forEach(function(r){e.remove(r)})})},i.get=function(e){return this.queriesMap[e]},i.getAll=function(){return this.queries},i.find=function(e,r){var u=E(e,r),a=u[0];return typeof a.exact>"u"&&(a.exact=!0),this.queries.find(function(o){return X(a,o)})},i.findAll=function(e,r){var u=E(e,r),a=u[0];return Object.keys(a).length>0?this.queries.filter(function(o){return X(a,o)}):this.queries},i.notify=function(e){var r=this;m.batch(function(){r.listeners.forEach(function(u){u(e)})})},i.onFocus=function(){var e=this;m.batch(function(){e.queries.forEach(function(r){r.onFocus()})})},i.onOnline=function(){var e=this;m.batch(function(){e.queries.forEach(function(r){r.onOnline()})})},n}(N),Et=function(){function s(i){this.options=h({},i.defaultOptions,i.options),this.mutationId=i.mutationId,this.mutationCache=i.mutationCache,this.observers=[],this.state=i.state||Dt(),this.meta=i.meta}var n=s.prototype;return n.setState=function(t){this.dispatch({type:"setState",state:t})},n.addObserver=function(t){this.observers.indexOf(t)===-1&&this.observers.push(t)},n.removeObserver=function(t){this.observers=this.observers.filter(function(e){return e!==t})},n.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(g).catch(g)):Promise.resolve()},n.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},n.execute=function(){var t=this,e,r=this.state.status==="loading",u=Promise.resolve();return r||(this.dispatch({type:"loading",variables:this.options.variables}),u=u.then(function(){t.mutationCache.config.onMutate==null||t.mutationCache.config.onMutate(t.state.variables,t)}).then(function(){return t.options.onMutate==null?void 0:t.options.onMutate(t.state.variables)}).then(function(a){a!==t.state.context&&t.dispatch({type:"loading",context:a,variables:t.state.variables})})),u.then(function(){return t.executeMutation()}).then(function(a){e=a,t.mutationCache.config.onSuccess==null||t.mutationCache.config.onSuccess(e,t.state.variables,t.state.context,t)}).then(function(){return t.options.onSuccess==null?void 0:t.options.onSuccess(e,t.state.variables,t.state.context)}).then(function(){return t.options.onSettled==null?void 0:t.options.onSettled(e,null,t.state.variables,t.state.context)}).then(function(){return t.dispatch({type:"success",data:e}),e}).catch(function(a){return t.mutationCache.config.onError==null||t.mutationCache.config.onError(a,t.state.variables,t.state.context,t),ct().error(a),Promise.resolve().then(function(){return t.options.onError==null?void 0:t.options.onError(a,t.state.variables,t.state.context)}).then(function(){return t.options.onSettled==null?void 0:t.options.onSettled(void 0,a,t.state.variables,t.state.context)}).then(function(){throw t.dispatch({type:"error",error:a}),a})})},n.executeMutation=function(){var t=this,e;return this.retryer=new ot({fn:function(){return t.options.mutationFn?t.options.mutationFn(t.state.variables):Promise.reject("No mutationFn found")},onFail:function(){t.dispatch({type:"failed"})},onPause:function(){t.dispatch({type:"pause"})},onContinue:function(){t.dispatch({type:"continue"})},retry:(e=this.options.retry)!=null?e:0,retryDelay:this.options.retryDelay}),this.retryer.promise},n.dispatch=function(t){var e=this;this.state=St(this.state,t),m.batch(function(){e.observers.forEach(function(r){r.onMutationUpdate(t)}),e.mutationCache.notify(e)})},s}();function Dt(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function St(s,n){switch(n.type){case"failed":return h({},s,{failureCount:s.failureCount+1});case"pause":return h({},s,{isPaused:!0});case"continue":return h({},s,{isPaused:!1});case"loading":return h({},s,{context:n.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:n.variables});case"success":return h({},s,{data:n.data,error:null,status:"success",isPaused:!1});case"error":return h({},s,{data:void 0,error:n.error,failureCount:s.failureCount+1,isPaused:!1,status:"error"});case"setState":return h({},s,n.state);default:return s}}var Mt=function(s){$(n,s);function n(t){var e;return e=s.call(this)||this,e.config=t||{},e.mutations=[],e.mutationId=0,e}var i=n.prototype;return i.build=function(e,r,u){var a=new Et({mutationCache:this,mutationId:++this.mutationId,options:e.defaultMutationOptions(r),state:u,defaultOptions:r.mutationKey?e.getMutationDefaults(r.mutationKey):void 0,meta:r.meta});return this.add(a),a},i.add=function(e){this.mutations.push(e),this.notify(e)},i.remove=function(e){this.mutations=this.mutations.filter(function(r){return r!==e}),e.cancel(),this.notify(e)},i.clear=function(){var e=this;m.batch(function(){e.mutations.forEach(function(r){e.remove(r)})})},i.getAll=function(){return this.mutations},i.find=function(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(function(r){return z(e,r)})},i.findAll=function(e){return this.mutations.filter(function(r){return z(e,r)})},i.notify=function(e){var r=this;m.batch(function(){r.listeners.forEach(function(u){u(e)})})},i.onFocus=function(){this.resumePausedMutations()},i.onOnline=function(){this.resumePausedMutations()},i.resumePausedMutations=function(){var e=this.mutations.filter(function(r){return r.state.isPaused});return m.batch(function(){return e.reduce(function(r,u){return r.then(function(){return u.continue().catch(g)})},Promise.resolve())})},n}(N);function wt(){return{onFetch:function(n){n.fetchFn=function(){var i,t,e,r,u,a,o=(i=n.fetchOptions)==null||(t=i.meta)==null?void 0:t.refetchPage,c=(e=n.fetchOptions)==null||(r=e.meta)==null?void 0:r.fetchMore,f=c==null?void 0:c.pageParam,v=(c==null?void 0:c.direction)==="forward",d=(c==null?void 0:c.direction)==="backward",l=((u=n.state.data)==null?void 0:u.pages)||[],y=((a=n.state.data)==null?void 0:a.pageParams)||[],p=ut(),P=p==null?void 0:p.signal,O=y,b=!1,_=n.options.queryFn||function(){return Promise.reject("Missing queryFn")},Q=function(A,w,C,T){return O=T?[w].concat(O):[].concat(O,[w]),T?[C].concat(A):[].concat(A,[C])},L=function(A,w,C,T){if(b)return Promise.reject("Cancelled");if(typeof C>"u"&&!w&&A.length)return Promise.resolve(A);var q={queryKey:n.queryKey,signal:P,pageParam:C,meta:n.meta},S=_(q),R=Promise.resolve(S).then(function(dt){return Q(A,C,dt,T)});if(B(S)){var G=R;G.cancel=S.cancel}return R},F;if(!l.length)F=L([]);else if(v){var W=typeof f<"u",lt=W?f:nt(n.options,l);F=L(l,W,lt)}else if(d){var Y=typeof f<"u",ft=Y?f:Qt(n.options,l);F=L(l,Y,ft,!0)}else(function(){O=[];var D=typeof n.options.getNextPageParam>"u",A=o&&l[0]?o(l[0],0,l):!0;F=A?L([],D,y[0]):Promise.resolve(Q([],y[0],l[0]));for(var w=function(q){F=F.then(function(S){var R=o&&l[q]?o(l[q],q,l):!0;if(R){var G=D?y[q]:nt(n.options,S);return L(S,D,G)}return Promise.resolve(Q(S,y[q],l[q]))})},C=1;C<l.length;C++)w(C)})();var J=F.then(function(D){return{pages:D,pageParams:O}}),ht=J;return ht.cancel=function(){b=!0,p==null||p.abort(),B(F)&&F.cancel()},J}}}}function nt(s,n){return s.getNextPageParam==null?void 0:s.getNextPageParam(n[n.length-1],n)}function Qt(s,n){return s.getPreviousPageParam==null?void 0:s.getPreviousPageParam(n[0],n)}var Lt=function(){function s(i){i===void 0&&(i={}),this.queryCache=i.queryCache||new qt,this.mutationCache=i.mutationCache||new Mt,this.defaultOptions=i.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var n=s.prototype;return n.mount=function(){var t=this;this.unsubscribeFocus=K.subscribe(function(){K.isFocused()&&U.isOnline()&&(t.mutationCache.onFocus(),t.queryCache.onFocus())}),this.unsubscribeOnline=U.subscribe(function(){K.isFocused()&&U.isOnline()&&(t.mutationCache.onOnline(),t.queryCache.onOnline())})},n.unmount=function(){var t,e;(t=this.unsubscribeFocus)==null||t.call(this),(e=this.unsubscribeOnline)==null||e.call(this)},n.isFetching=function(t,e){var r=E(t,e),u=r[0];return u.fetching=!0,this.queryCache.findAll(u).length},n.isMutating=function(t){return this.mutationCache.findAll(h({},t,{fetching:!0})).length},n.getQueryData=function(t,e){var r;return(r=this.queryCache.find(t,e))==null?void 0:r.state.data},n.getQueriesData=function(t){return this.getQueryCache().findAll(t).map(function(e){var r=e.queryKey,u=e.state,a=u.data;return[r,a]})},n.setQueryData=function(t,e,r){var u=H(t),a=this.defaultQueryOptions(u);return this.queryCache.build(this,a).setData(e,r)},n.setQueriesData=function(t,e,r){var u=this;return m.batch(function(){return u.getQueryCache().findAll(t).map(function(a){var o=a.queryKey;return[o,u.setQueryData(o,e,r)]})})},n.getQueryState=function(t,e){var r;return(r=this.queryCache.find(t,e))==null?void 0:r.state},n.removeQueries=function(t,e){var r=E(t,e),u=r[0],a=this.queryCache;m.batch(function(){a.findAll(u).forEach(function(o){a.remove(o)})})},n.resetQueries=function(t,e,r){var u=this,a=E(t,e,r),o=a[0],c=a[1],f=this.queryCache,v=h({},o,{active:!0});return m.batch(function(){return f.findAll(o).forEach(function(d){d.reset()}),u.refetchQueries(v,c)})},n.cancelQueries=function(t,e,r){var u=this,a=E(t,e,r),o=a[0],c=a[1],f=c===void 0?{}:c;typeof f.revert>"u"&&(f.revert=!0);var v=m.batch(function(){return u.queryCache.findAll(o).map(function(d){return d.cancel(f)})});return Promise.all(v).then(g).catch(g)},n.invalidateQueries=function(t,e,r){var u,a,o,c=this,f=E(t,e,r),v=f[0],d=f[1],l=h({},v,{active:(u=(a=v.refetchActive)!=null?a:v.active)!=null?u:!0,inactive:(o=v.refetchInactive)!=null?o:!1});return m.batch(function(){return c.queryCache.findAll(v).forEach(function(y){y.invalidate()}),c.refetchQueries(l,d)})},n.refetchQueries=function(t,e,r){var u=this,a=E(t,e,r),o=a[0],c=a[1],f=m.batch(function(){return u.queryCache.findAll(o).map(function(d){return d.fetch(void 0,h({},c,{meta:{refetchPage:o==null?void 0:o.refetchPage}}))})}),v=Promise.all(f).then(g);return c!=null&&c.throwOnError||(v=v.catch(g)),v},n.fetchQuery=function(t,e,r){var u=H(t,e,r),a=this.defaultQueryOptions(u);typeof a.retry>"u"&&(a.retry=!1);var o=this.queryCache.build(this,a);return o.isStaleByTime(a.staleTime)?o.fetch(a):Promise.resolve(o.state.data)},n.prefetchQuery=function(t,e,r){return this.fetchQuery(t,e,r).then(g).catch(g)},n.fetchInfiniteQuery=function(t,e,r){var u=H(t,e,r);return u.behavior=wt(),this.fetchQuery(u)},n.prefetchInfiniteQuery=function(t,e,r){return this.fetchInfiniteQuery(t,e,r).then(g).catch(g)},n.cancelMutations=function(){var t=this,e=m.batch(function(){return t.mutationCache.getAll().map(function(r){return r.cancel()})});return Promise.all(e).then(g).catch(g)},n.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},n.executeMutation=function(t){return this.mutationCache.build(this,t).execute()},n.getQueryCache=function(){return this.queryCache},n.getMutationCache=function(){return this.mutationCache},n.getDefaultOptions=function(){return this.defaultOptions},n.setDefaultOptions=function(t){this.defaultOptions=t},n.setQueryDefaults=function(t,e){var r=this.queryDefaults.find(function(u){return M(t)===M(u.queryKey)});r?r.defaultOptions=e:this.queryDefaults.push({queryKey:t,defaultOptions:e})},n.getQueryDefaults=function(t){var e;return t?(e=this.queryDefaults.find(function(r){return x(t,r.queryKey)}))==null?void 0:e.defaultOptions:void 0},n.setMutationDefaults=function(t,e){var r=this.mutationDefaults.find(function(u){return M(t)===M(u.mutationKey)});r?r.defaultOptions=e:this.mutationDefaults.push({mutationKey:t,defaultOptions:e})},n.getMutationDefaults=function(t){var e;return t?(e=this.mutationDefaults.find(function(r){return x(t,r.mutationKey)}))==null?void 0:e.defaultOptions:void 0},n.defaultQueryOptions=function(t){if(t!=null&&t._defaulted)return t;var e=h({},this.defaultOptions.queries,this.getQueryDefaults(t==null?void 0:t.queryKey),t,{_defaulted:!0});return!e.queryHash&&e.queryKey&&(e.queryHash=Z(e.queryKey,e)),e},n.defaultQueryObserverOptions=function(t){return this.defaultQueryOptions(t)},n.defaultMutationOptions=function(t){return t!=null&&t._defaulted?t:h({},this.defaultOptions.mutations,this.getMutationDefaults(t==null?void 0:t.mutationKey),t,{_defaulted:!0})},n.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},s}(),Tt={MODE:"production",BUILD_COPY_TO:"../main-site/frontend/web/chess-widget-2024-test"};new Lt;const It="#990000",xt=Tt.MODE==="production",Bt="/chess-widget-2024/scalachess.js",$t="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",Nt=1199,jt="#e3e2c4",Gt=6,Ht=3,Vt=53.5,kt=100,Zt="STORAGE_BOARD_SIZE_LABEL",Wt="STORAGE_TABLET_BOARD_SIZE_LABEL",Yt=3,Jt="MPV_LINES_LABEL",Xt="#b7b58f",zt="#e3e2c4",te=[{symbol:"!",tooltip:"Good move"},{symbol:"?",tooltip:"Mistake"},{symbol:"!!",tooltip:"Brilliant move"},{symbol:"??",tooltip:"Blunder"},{symbol:"!?",tooltip:"Interesting move"},{symbol:"?!",tooltip:"Dubious move"},{symbol:"⩲",tooltip:"White is slightly better"},{symbol:"±",tooltip:"White is much better"},{symbol:"+−",tooltip:"White is winning"},{symbol:"⩱",tooltip:"Black is slightly better"},{symbol:"∓",tooltip:"Black is much better"},{symbol:"−+",tooltip:"Black is winning"},{symbol:"=",tooltip:"Equal position"},{symbol:"∞",tooltip:"Unclear position"},{symbol:"6",tooltip:"With compensation"},{symbol:"⟫",tooltip:"King side"},{symbol:"⟪",tooltip:"Queen side"},{symbol:"N",tooltip:"Novelty"},{symbol:"1",tooltip:"Only move"},{symbol:"⇄",tooltip:"Counterplay"},{symbol:"3",tooltip:"Center"},{symbol:"2",tooltip:"Space"},{symbol:"⊕",tooltip:"Time trouble"},{symbol:"⨀",tooltip:"Zugzwang"},{symbol:"↑",tooltip:"Initiative"},{symbol:"→",tooltip:"Attack"},{symbol:"↑↑",tooltip:"Development"},{symbol:"4",tooltip:"Pair of bishops"},{symbol:"5",tooltip:"Opposite color bishops"},{symbol:"9",tooltip:"Passed pawn"}],ee={"!":1,"?":2,"!!":3,"??":4,"!?":5,"?!":6,"□":14,"=":16,"∞":18,"⩲":15,"⩱":17,"±":19,"∓":10,"+−":13,"−+":44,"⨀":242,"↑↑":243,"→":146,"↑":132,"=∞":7,"⇄":241,"⊕":26,"∆":138,N:22,"⟫":36,"⟪":40,1:32,2:246,3:247,4:252,5:5002,6:5003,7:5004,8:5005,9:5006},Rt={1:"!",2:"?",3:"!!",4:"??",5:"!?",6:"?!",14:"□",16:"=",18:"∞",15:"⩲",17:"⩱",19:"±",10:"∓",13:"+−",44:"−+",242:"⨀",243:"↑↑",146:"→",132:"↑",7:"=∞",241:"⇄",26:"⊕",138:"∆",22:"N",36:"⟫",40:"⟪",32:"1",246:"2",247:"3",252:"4",5002:"5",5003:"6",5004:"7",5005:"8",5006:"9"};Object.keys(Rt).slice(0,4);const ne="active-comment";window.location.origin.includes("test")||window.location.origin.includes("localhost");const ie="rgb(233, 233, 208)";export{ne as A,jt as B,Xt as D,zt as L,Jt as M,ee as N,Zt as S,Nt as a,Wt as b,$t as c,Ht as d,Gt as e,Vt as f,kt as g,Yt as h,xt as i,te as j,ie as k,Bt as l,It as t};
