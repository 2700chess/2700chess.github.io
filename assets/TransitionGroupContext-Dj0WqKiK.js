import{r as n,R as f}from"./index-uubelm5h.js";const d=typeof window<"u"?n.useLayoutEffect:n.useEffect;function L(e){return e&&e.ownerDocument||document}function h(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function V(e){const t=n.useRef(e);return d(()=>{t.current=e}),n.useRef((...r)=>(0,t.current)(...r)).current}function g(...e){return n.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(r=>{h(r,t)})},e)}const a={};function y(e,t){const r=n.useRef(a);return r.current===a&&(r.current=e(t)),r}const m=[];function E(e){n.useEffect(e,m)}class s{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new s}start(t,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},t)}}function C(){const e=y(s.create).current;return E(e.disposeEffect),e}let i=!0,o=!1;const b=new s,p={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function w(e){const{type:t,tagName:r}=e;return!!(r==="INPUT"&&p[t]&&!e.readOnly||r==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function R(e){e.metaKey||e.altKey||e.ctrlKey||(i=!0)}function c(){i=!1}function T(){this.visibilityState==="hidden"&&o&&(i=!0)}function I(e){e.addEventListener("keydown",R,!0),e.addEventListener("mousedown",c,!0),e.addEventListener("pointerdown",c,!0),e.addEventListener("touchstart",c,!0),e.addEventListener("visibilitychange",T,!0)}function v(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return i||w(t)}function D(){const e=n.useCallback(u=>{u!=null&&I(u.ownerDocument)},[]),t=n.useRef(!1);function r(){return t.current?(o=!0,b.start(100,()=>{o=!1}),t.current=!1,!0):!1}function l(u){return v(u)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:l,onBlur:r,ref:e}}function K(e){return typeof e=="string"}const k=f.createContext(null);export{k as T,g as a,D as b,V as c,d,s as e,K as i,L as o,h as s,C as u};
