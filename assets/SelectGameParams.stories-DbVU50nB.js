import{j as t}from"./index-BlPo4WBo.js";import{r as d}from"./index-CDs2tPxN.js";import{G as P}from"./iconBase-CFmhqBMC.js";import{c as T}from"./effector-react-BAdctxvc.js";import{p as I}from"./index-DdleKAuV.js";import{q as E}from"./styled-components.browser.esm-BXlt7KuZ.js";import{i as G,c as u,d as k,e as q}from"./index-mZ8wGMve.js";import{a as L}from"./store-C1axl7uG.js";import{u as x,d as M,e as y}from"./index-P_l5D55z.js";import{B as N}from"./Board-KEZD_0Xq.js";import{B as r}from"./Box-CuN7tJpi.js";import{T as R}from"./Tooltip-CEVU8dr5.js";import{I as _}from"./IconButton-BiBPDsoj.js";import{I as z}from"./Input-CzDFL3p0.js";import"./extends-CF3RwP-h.js";import"./inheritsLoose-DR8r8Ogv.js";import"./iframe-1yK2xTp2.js";import"../sb-preview/runtime.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-Bbbmb3_I.js";import"./isHostComponent-BOQ30RTc.js";import"./index-B-yFm4aN.js";import"./assertThisInitialized-B9jnkVVz.js";function B(e){return P({tag:"svg",attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M6 8h-6v-6h1v4.109c1.013-3.193 4.036-5.484 7.5-5.484 3.506 0 6.621 2.36 7.574 5.739l-0.963 0.271c-0.832-2.95-3.551-5.011-6.611-5.011-3.226 0.001-6.016 2.276-6.708 5.376h4.208v1zM11 9v1h4.208c-0.693 3.101-3.479 5.375-6.708 5.375-3.062 0-5.78-2.061-6.611-5.011l-0.963 0.271c0.952 3.379 4.067 5.739 7.574 5.739 3.459 0 6.475-2.28 7.5-5.482v4.108h1v-6h-6z"},child:[]}]})(e)}const p=e=>{const n=T(L),{isMobile:a}=x(),[s,m]=d.useState("Standard"),[g,l]=d.useState(e.fen),[S,v]=d.useState(!1),[w,F]=d.useState({color:"white",moveNumber:1});return d.useEffect(()=>{if(!e.isGameStarted&&e.startPgn&&e.startPgn!=="*"){const i=M(e.startPgn||"*"),f=(i==null?void 0:i.length)>0&&i[i.length-1].fen;f&&l(f)}},[e.isGameStarted,e.startPgn]),t.jsxs(r,{sx:{background:"#d3d2a6",border:"1px solid #b7b58f",py:"20px",px:a?"20px":"50px",maxWidth:"500px",width:"100%",margin:"auto",fontSize:"12px",mt:a&&G?"-25px":"0"},children:[t.jsxs(r,{display:"flex",sx:{pt:"2px",alignItems:"center",flexDirection:a?"column":"row"},children:[t.jsx(D,{playerColor:e.playerColor,setPlayerColor:e.setPlayerColor,isGameStarted:e.isGameStarted}),t.jsx(H,{isGuest:e.isGuest,isPremium:e.isPremium,level:e.level,setLevel:e.setLevel,levels:n==null?void 0:n.levels})]}),e.variantsEnabled&&t.jsx(A,{setVariant:o=>{if(m(o),o==="Fischer"){const i=y();l(i)}o==="Standard"&&l(u),o==="Fen"&&l("")},variant:s,updateInitialFen:o=>{const i=I(o);i.isOk?(v(!1),l(o),e.onChangeColor(i.value.turn),F({color:i.value.turn,moveNumber:i.value.fullmoves})):(v(!0),l(""))},fenInvalid:S,regenerate960:()=>l(y())}),t.jsx(r,{width:a?230:275,margin:"auto",children:t.jsx(r,{mt:"19px",children:t.jsx(N,{config:{movable:{free:!1},fen:g||u,orientation:e.playerColor},colorTheme:n==null?void 0:n.colorTheme,pieceType:n==null?void 0:n.pieceType,coordinates:n==null?void 0:n.coordinates})})}),t.jsx(r,{display:"flex",justifyContent:"end",margin:"auto",mt:"22px",width:a?230:275,children:t.jsx(r,{sx:V,component:"button",onClick:()=>e.isGameStarted?e.onClose():e.onPlayClicked(`[FEN "${g}"] 
 *`,s,w),children:"Play"})}),t.jsx(r,{mt:"18px",mb:2,textAlign:"justify",lineHeight:1.26,children:"Stockfish has become significantly stronger in recent years. Accordingly, we have calibrated its Elo strength, starting from total beginner up to Elo of 3000. Additionally, you can set up any position to play using FEN or select Fischer Random."})]})},V={background:"#939374",color:"#e3e2c4",padding:"2px 10px",borderRadius:"5px",border:"1px solid #797960",cursor:"pointer",fontSize:"17px",minWidth:"90px"},W=[{key:"Standard",title:"Standard"},{key:"Fischer",title:"Fischer Random"},{key:"Fen",title:"Your FEN"}],A=e=>t.jsxs(r,{sx:{width:"100%",mt:1},children:[t.jsx(r,{display:"flex",sx:{justifyContent:"center"},children:t.jsxs(r,{sx:{display:"flex",alignItems:"center",width:"100%",position:"relative"},children:[t.jsx(h,{fontWeight:"bold",children:"Variant:"}),t.jsx(r,{width:"100%",children:t.jsx(r,{component:"select",onChange:n=>e.setVariant(n.target.value),value:e.variant,sx:{width:"100%",fontSize:12,padding:"2px",border:"none",borderRadius:"2px",outline:"none"},children:W.map(({key:n,title:a})=>t.jsx("option",{value:n,children:a},n))})}),e.variant==="Fischer"&&t.jsx(R,{arrow:!0,placement:"top",title:t.jsx(r,{fontSize:12,children:"Another Position"}),children:t.jsx(_,{sx:{position:"absolute",left:198,width:"10px",p:0},disableRipple:!0,onClick:e.regenerate960,children:t.jsx(B,{})})})]})}),e.variant==="Fen"&&t.jsx(r,{mt:1,children:t.jsx(z,{error:e.fenInvalid,sx:{width:"100%",fontSize:13},placeholder:u,onChange:n=>e.updateInitialFen(n.target.value)})})]}),D=e=>{const{isMobile:n}=x();return t.jsxs(r,{display:"flex",alignItems:"center",width:"100%",children:[t.jsx(h,{fontWeight:"bold",children:"Color:"}),t.jsx(r,{children:t.jsxs(r,{display:"flex",alignItems:"center",flexDirection:n?"row":"column",gap:"3px",children:[t.jsxs(r,{component:"label",sx:{cursor:"pointer",fontWeight:"normal",m:0,lineHeight:1,display:"flex",alignItems:"center"},children:[t.jsx(r,{component:"input",type:"radio",name:"color",value:"white",sx:{margin:"0 !important",width:"12px"},checked:e.playerColor==="white",onChange:a=>e.setPlayerColor(a.target.value),disabled:e.isGameStarted}),t.jsx(r,{component:"span",sx:{ml:"6px",width:n?"auto":60,mr:n?1.5:0},children:"White"})]}),t.jsxs(r,{component:"label",sx:{cursor:"pointer",fontWeight:"normal",m:0,lineHeight:1,display:"flex",alignItems:"center"},children:[t.jsx(r,{component:"input",type:"radio",name:"color",value:"black",sx:{margin:"0 !important",width:"12px"},checked:e.playerColor==="black",onChange:a=>e.setPlayerColor(a.target.value),disabled:e.isGameStarted}),t.jsx(r,{component:"span",sx:{ml:"6px",width:n?"auto":60},children:"Black"})]})]})})]})},H=e=>{const{isMobile:n}=x();return t.jsxs(r,{sx:{display:"flex",alignItems:"center",width:"100%",mt:n?1:0,ml:n?0:"-72px"},children:[t.jsx(h,{fontWeight:"bold",children:"Computer:"}),t.jsx(r,{width:"100%",children:t.jsx(r,{component:"select",onChange:a=>e.setLevel(Number(a.target.value)),value:e.level,sx:{padding:"2px",width:"100%",outline:"none",fontSize:12,border:"none",borderRadius:"2px"},children:e.levels&&Object.keys(e.levels).map((a,s)=>{var m;return t.jsx("option",{value:a,disabled:e.isGuest?s>=k:e.isPremium?!1:s>=q,children:(m=e.levels)==null?void 0:m[Number(a)].label},a)})})})]})},h=E(r)`
  min-width: 80px;
  text-align: right;
  margin-right: 10px;
`;p.__docgenInfo={description:"",methods:[],displayName:"SelectGameParams",props:{level:{required:!0,tsType:{name:"number"},description:""},setLevel:{required:!0,tsType:{name:"signature",type:"function",raw:"(level: number) => void",signature:{arguments:[{type:{name:"number"},name:"level"}],return:{name:"void"}}},description:""},playerColor:{required:!0,tsType:{name:"Color"},description:""},setPlayerColor:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: Color) => void",signature:{arguments:[{type:{name:"Color"},name:"value"}],return:{name:"void"}}},description:""},onPlayClicked:{required:!0,tsType:{name:"signature",type:"function",raw:"(pgn: string, variant: GameVariant, startMoveFrom: StartMoveFrom) => void",signature:{arguments:[{type:{name:"string"},name:"pgn"},{type:{name:"union",raw:"'Standard' | 'Fischer' | 'Fen'",elements:[{name:"literal",value:"'Standard'"},{name:"literal",value:"'Fischer'"},{name:"literal",value:"'Fen'"}]},name:"variant"},{type:{name:"signature",type:"object",raw:`{
  moveNumber: number
  color: Color
}`,signature:{properties:[{key:"moveNumber",value:{name:"number",required:!0}},{key:"color",value:{name:"Color",required:!0}}]}},name:"startMoveFrom"}],return:{name:"void"}}},description:""},isPremium:{required:!0,tsType:{name:"boolean"},description:""},isGuest:{required:!0,tsType:{name:"boolean"},description:""},fen:{required:!0,tsType:{name:"string"},description:""},variantsEnabled:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},isGameStarted:{required:!1,tsType:{name:"boolean"},description:""},onChangeColor:{required:!0,tsType:{name:"signature",type:"function",raw:"(color: string) => void",signature:{arguments:[{type:{name:"string"},name:"color"}],return:{name:"void"}}},description:""},startPgn:{required:!1,tsType:{name:"string"},description:""}}};const pe={title:"Components/SelectGameParams",component:p,tags:["autodocs"],render:e=>t.jsx(p,{...e})},c={args:{isPremium:!1,level:9,onPlayClicked:()=>{},playerColor:"white",setLevel:()=>{},setPlayerColor:()=>{},variantsEnabled:!0}};var b,j,C;c.parameters={...c.parameters,docs:{...(b=c.parameters)==null?void 0:b.docs,source:{originalSource:`{
  args: {
    isPremium: false,
    level: 9,
    onPlayClicked: () => {},
    playerColor: 'white',
    setLevel: () => {},
    setPlayerColor: () => {},
    variantsEnabled: true
  }
}`,...(C=(j=c.parameters)==null?void 0:j.docs)==null?void 0:C.source}}};const xe=["Component"];export{c as Component,xe as __namedExportsOrder,pe as default};
