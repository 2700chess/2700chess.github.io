import{r as C,g as F,R as h}from"./index-uubelm5h.js";import{b as O,F as L,D as M}from"./store-CBV45M4y.js";var U={},R={exports:{}},D={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j=C;function P(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var W=typeof Object.is=="function"?Object.is:P,z=j.useState,B=j.useEffect,G=j.useLayoutEffect,H=j.useDebugValue;function I(e,t){var c=t(),u=z({inst:{value:c,getSnapshot:t}}),o=u[0].inst,r=u[1];return G(function(){o.value=c,o.getSnapshot=t,k(o)&&r({inst:o})},[e,c,t]),B(function(){return k(o)&&r({inst:o}),e(function(){k(o)&&r({inst:o})})},[e]),H(c),c}function k(e){var t=e.getSnapshot;e=e.value;try{var c=t();return!W(e,c)}catch{return!0}}function J(e,t){return t()}var N=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?J:I;D.useSyncExternalStore=j.useSyncExternalStore!==void 0?j.useSyncExternalStore:N;R.exports=D;var _=R.exports;const Q=F(_);/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V=C,T=_;function X(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Y=typeof Object.is=="function"?Object.is:X,Z=T.useSyncExternalStore,ee=V.useRef,te=V.useEffect,ne=V.useMemo,ue=V.useDebugValue;U.useSyncExternalStoreWithSelector=function(e,t,c,u,o){var r=ee(null);if(r.current===null){var f={hasValue:!1,value:null};r.current=f}else f=r.current;r=ne(function(){function x(i){if(!S){if(S=!0,y=i,i=u(i),o!==void 0&&f.hasValue){var n=f.value;if(o(n,i))return m=n}return m=i}if(n=m,Y(y,i))return n;var s=u(i);return o!==void 0&&o(n,s)?n:(y=i,m=s)}var S=!1,y,m,w=c===void 0?null:c;return[function(){return x(t())},w===null?void 0:function(){return x(w())}]},[t,c,u,o]);var v=Z(e,r[0],r[1]);return te(function(){f.hasValue=!0,f.value=v},[v]),ue(v),v};function re(e,t){const c=O.unit(e);let u={};c?u={unit:e}:"@@unitShape"in e?typeof e["@@unitShape"]=="function"?u=e["@@unitShape"]():A("expect @@unitShape to be a function"):u=e;const o=Array.isArray(u),r=h.useRef({stale:1,justSubscribed:0,scope:t}),[f,v,x,S,y]=h.useMemo(()=>{r.current.stale=1;const n=Array.isArray(u)?[]:{},s=[],E=[],a=[],b=[];for(const p in u){if(!{}.hasOwnProperty.call(u,p))continue;const l=u[p];O.unit(l)||A(`expect useUnit ${c?"argument":`value in key "${p}"`} to be a unit`),O.event(l)||O.effect(l)?(n[p]=t?L(l,{scope:t}):l,a.push(p),b.push(l)):(n[p]=null,s.push(p),E.push(l))}return[n,s,E,a,b]},[r,t,...Object.keys(u),...Object.values(u)]),m=h.useRef({value:f,storeKeys:v,eventKeys:S,eventValues:y}),w=h.useCallback(n=>{const s=r.current;return s.justSubscribed=1,M({unit:x,fn:()=>{s.stale||(s.stale=1,n())},scope:t,batch:1})},[x,t,m,r]),i=h.useCallback(()=>{const n=m.current,s=r.current;let E,a=0;const b=n.value,p=n.storeKeys,l=n.eventKeys,q=n.eventValues,K=t!==s.scope;if(s.stale||s.justSubscribed||K){a=!s.justSubscribed||K,E=o?[...f]:{...f},p.length===v.length&&l.length===S.length||(a=1);for(let d=0;d<v.length;d++){const $=ce(x[d],t),g=v[d];a||(a=p.includes(g)?b[g]!==$:1),E[g]=$}for(let d=0;d<S.length;d++){const $=y[d],g=S[d];a||(a=l.includes(g)?q[l.indexOf(g)]!==$:1)}}return a&&(n.value=E),n.storeKeys=v,n.eventKeys=S,n.eventValues=y,s.stale=0,s.justSubscribed=!a,s.scope=t,c?n.value.unit:n.value},[w,x,y,t,m,r]);return oe(w,i,i)}function se(e){return h.useContext(ie)}function fe(e,t){return re(e,se())}const A=e=>{throw Error(e)};typeof window<"u"?h.useLayoutEffect:h.useEffect;const{useSyncExternalStore:oe}=Q,ce=(e,t)=>t?t.getState(e):e.getState(),ie=h.createContext(null);export{fe as c};
